---
title: '使用React一年以来给我带来的最大收获[英文翻译]'
tags: 英文翻译
categories: 英文翻译
date: '2018-12-22 15:07'
abbrlink: 60376
---
## 使用React一年以来给我带来的最大收获
原文链接：[The most important lessons I’ve learned after a year of working with React](https://medium.freecodecamp.org/mindset-lessons-from-a-year-with-react-1de862421981)
原文作者：[Tomas Eglinskas](https://medium.freecodecamp.org/@tomas.eglinskas?source=post_header_lockup)

---
![这并不是我写的, 但是我知道它肯定引起了你的注意 🔪](https://cdn-images-1.medium.com/max/1250/1*TheYckj9udF4qLjoJW8sjg.png)

涉猎一项新技术是一件十分麻烦的事情，你会时常发现你陷入了教程和文章的海洋中，伴随着数以百万计的个人观点，而且每个人都自诩找到了"**正确而又完美的道路**"。这会让我们迷惑的担心我们所选择的教程是否会浪费时间。所以在"陷入海洋"之前，我们必须要了解技术的基本概念，然后我们需要去建立以技术为基础的思维方式。如果我们开始去学习`React`,我们首先要做的就是用`React`的思想去思考，只有这样我们以后才能将各种心态融为一体。
在本文中，我将介绍给大家我从我个人使用`React`的经历中总经的经验教训，其中包括白天的工作、晚上的个人项目甚至还有在本地`js`活动中发表的演讲。
所以，让我们开始吧。
<!-- more -->
### React正在迅速发展，所以你也要跟上时代的脚步
如果你还记得`16.3.0`版本的最初公告，那你一定还记得当时人们是多么兴奋。
下面是我们得到的一些变化和改进：
* 官方的`context api`
* `createRef Api`
* `forwardRef Api`
* 严格模式
* 组件生命周期变化

`React`小组和所有贡献者都在为了改进我们钟爱的技术而努力着，在`16.4.0`的版本中，我们获得了[Pointer Events](https://reactjs.org/blog/2018/05/23/react-v-16-4.html).异步渲染、缓存、版本`17.0.0`以及好多尚未知晓的内容接下来肯定也会有进一步的更新，只不过是时间的问题。所以如果你想技术领先，就必须第一时间了解社区中发生的事情。了解事物是如何运作的以及它们为何被开发出来。 了解正在解决的问题以及如何使开发更容易。 这些会对你帮助很大。

### 不要害怕将你的代码分割成小的片段
`React`是基于组件的，所以你需要利用这个概念而不是害怕把大的部分分割成小的部分。有时候一个简单的组件只有4-5行代码组成，并且在某种情况下，这完全没问题。这样做的好处就是如果有新人进来，不需要多久他就可以对整个系统了然于胸。
``` javascript
// 这是多么容易令人理解
return (
  [
   <ChangeButton
    onClick={this.changeUserApprovalStatus}
    text="Let’s switch it!"
   />,
   <UserInformation status={status}/> 
  ]
);
```
你不必开发含有复杂逻辑的组件，他们可以只是视图组件，如果这样可以提高代码的可读性和可测试性，并且进一步减少代码异味，那么对团队的每个人来说这都是一场巨大的胜利。
``` javascript
import ErrorMessage from './ErrorMessage';
const NotFound = () => (
  <ErrorMessage
    title="Oops! Page not found."
    message="The page you are looking for does not exist!"
    className="test_404-page"
  />
);
```
正如上面这个例子，属性是不变的，所以我们可以把这个只用来显示错误信息`Not Found`的页面做成一个纯组件，仅此而已。
另外，如果您不喜欢在任何地方都使用CSS类作为类名，我建议使用样式化组件。 这可以提高可读性。
```
const Number = styled.h1`
  font-size: 36px;
  line-height: 40px;
  margin-right: 5px;
  padding: 0px;
`;
//..
<Container>
  <Number>{skipRatePre}</Number>
  <InfoName>Skip Rate</InfoName>
</Container>
```
如果你是因为担心污染文件夹而害怕创建更多的组件，请重新考虑如何构建代码。 我一直在使用[分形结构](https://hackernoon.com/fractal-a-react-app-structure-for-infinite-scale-4dab943092af)，它很棒。

### 不要因循守旧-要变得先进
有时候你可能会认为你所了解的东西太欠缺还不足以让你去了解更高级的东西，但是通常你不应该担心太多，请接收挑战并证明之前自己是错的。通过掌握高级技巧并推动自己，你将会了解更多基础知识以及如果讲他们用于更大的事情。下面是你可以去探索的一些模式：
* 复合组件
* 高阶组件
* `Render Props`
* `Smart`和`Dumb1`组件
* 还有许多其他的(尝试分析)
弄懂了这些，你就会知道他们在何处使用以及使用他们的原因，你会对`React`用起来感觉更舒服。
```
// 像是魔法？
// 如果你真的尝试了就会发现其实没有你想象中那么复杂
render() {
  const children = React.Children.map(this.props.children,
   (child, index) => {
      return React.cloneElement(child, {
        onSelect: () => this.props.onTabSelect(index)
    });    
 });  
 return children;
}
```
另外，不要害怕在工作中尝试新的事物，当然是在某些范围内，不要只是在个人项目中实验。人们会问问题，这是十分正常的事情，你的责任就是用强有力的争吵来捍卫你的工作和决定。你的目标应该是解决现有问题，进一步开发或者只是清理代码，你是你被拒绝了，相对于沉默而言你也会收获更多。

### 不要让事情变得过度复杂
这个听起来像和之前的观点矛盾了，但是并不是这样，在生活中，或者在任何地方，我们必须保持中庸，不要过度炫耀工作，我们必须务实，让代码变得更加容易理解才是我们的目的。如果你并不需要`Redux`，你使用它的原因只是因为每个人都在使用它而并不知道它的真正作用，请不要这样，请保持主见并且不要被别人影响到。有些时候你可能认为利用最新技术并编写复杂的代码这样你就可以对全世界说:"看，我不是初级工程师，我正在成为高级工程师，看看我能做些什么！"。实话实说，这是我刚开始编程时的心态，但是随着时间的推移你将会理解编写的代码相对于炫耀来说，真正起作用的才更容易被人接受。
1. 同事可以处理你的项目，并且你不是唯一负责开发/修复/测试<等等>的人。
2. 团队之间不需要长时间的会议就能理解别人做的事情，几分钟的讨论就够了。
3. 当你的同事出去度假两周时，你来接手他的任务，而且你并不需要因此工作8个小时，因为一个小时就够了。
人们会尊重那些让别人生活更轻松的人。 因此，如果你的目标是获得尊重，提升排名并进行改进，则需要为团队而不是自己编写代码。
你将成为每个人最喜欢的团队成员。

### 重构，重构然后重构---这是再正常不过的
你会十几次得改变你的想法，尽管你的项目经理修改需求会更加频繁，其他人会批评你的工作，你也会批评你自己，结果是你需要一遍一遍得修改代码。但是不要担心，这是一个自然的学习过程，没有错误和异常，我们就无法提升。我们跌倒的次数越多，恢复起来就越容易。但是这里有一个提示，确保你测试的是当前的代码，烟雾，单位，整合，快照 - 不要对他们感到害怕。当测试可以解决很多宝贵时间时每个人都会遇到或者都将会遇到一个问题，如果你像其他人一样认为这会浪费很多时间，请试着思考一下：
1. 不必和你的同事一起解释事情是如何运作的。
2. 你不必和你的同事一起解释为什么事情会崩溃。
3. 您不必为您的同事修复错误。
4. 您将不必修复3周后发现的错误。
5. 你将有时间做你想要的东西。
这些都是有非常大的好处。

### 如果你喜欢它，你将会茁壮成长
在过去的一年里，我的目标是在React上做得更好。所以我想谈谈它。我希望别人和我一起享受。我可以不停地坐着整夜编码，看着各种各样的谈话，享受它的每一分钟。事实就是，如果你想要什么，不知为何，每个人都开始帮助你。上个月，我向一群200人发表了我的第一次React演讲。在这一年期间，我通过各种模式，范例和内部运作和`React`相处起来变得更强大，更舒服。我可以进行高级讨论并向其他人讲授我不敢触及的话题。而今天我仍然感受到一年前我所感受到的同样的兴奋和享受。所以我建议每个人都问自己："你喜欢你现在做的事情吗？"如果没有，继续寻找你可以谈论几个小时的特殊事情，每晚了解，并为之开心。因为我们必须找到最接近我们心灵的东西。成功不可强求，但是可以实现。如果我可以回到一年前的时间，这些正是我要对即将踏上学习的旅程的我所说的话。
谢谢你的阅读！
如果你发现这篇文章很有帮助，👏👏👏.